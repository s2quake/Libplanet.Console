syntax = "proto3";

option csharp_namespace = "LibplanetConsole.Node.Grpc";

package libplanet.console.node.v1;

service NodeGrpcService {
  rpc Ping(PingRequest) returns (PingResponse);
  rpc Start(StartRequest) returns (StartResponse);
  rpc Stop(StopRequest) returns (StopResponse);
  rpc GetInfo(GetInfoRequest) returns (GetInfoResponse);

  rpc GetStartedStream(GetStartedStreamRequest) returns (stream GetStartedStreamResponse);
  rpc GetStoppedStream(GetStoppedStreamRequest) returns (stream GetStoppedStreamResponse);
}

message NodeInformation {
    int32 process_id = 1;
    string app_protocol_version = 2;
    string swarm_end_point = 3;
    string consensus_end_point = 4;
    string address = 5;
    string genesis_hash = 6;
    string tip_hash = 7;
    int64 tip_height = 8;
    string tip_miner = 9;
    bool is_running = 10;
}

message PingRequest {
}

message PingResponse {
}

message StartRequest {
  string seed_end_point = 1;
}

message StartResponse {
    NodeInformation node_info = 1;
}

message StopRequest {
}

message StopResponse {
}

message GetInfoRequest {
}

message GetInfoResponse {
    NodeInformation node_info = 1;
}

message GetStartedStreamRequest {
}

message GetStartedStreamResponse {
    NodeInformation node_info = 1;
}

message GetStoppedStreamRequest {
}

message GetStoppedStreamResponse {
}
